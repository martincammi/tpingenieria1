\documentclass[11pt, a4paper, spanish]{article}

%%%%%%%%%% COMIENZO DEL PREAMBULO %%%%%%%%%%

%Info sobre este documento
\author{Martin Cammi}
\title{Trabajo Pr'actico de Ingenier'ia del software I}

%\usepackage{infostyle}                                                  % provee un look & feel similar a un documento Word
\usepackage[top=2.5cm, bottom=2.5cm, left=2.5cm, right=2.5cm]{geometry}  % m\'argenes
\usepackage[ansinew]{inputenc}                                           % permite que los acentos del estilo \'a\'e\'i\'o\'u salgan joya
\usepackage[spanish, activeacute]{babel}                                 % idioma espa\~{n}ol, acentos f\'aciles y deletreo de palabras
\usepackage{indentfirst}                                                 % permite indentar un parrafo a mano
\usepackage{caratula}                                                    % incluye caratula est\'andar
\usepackage{graphicx}                                                    % permite insertar gr\'aficos
\usepackage{color}                                                       % permite el uso de colores en el documento
\usepackage[pdfcreator={TexLive!, LaTeX2e con TeXnicCenter y la inteligencia de Jonathan ;-)},
			pdfauthor={Grupo 1"},
			pdftitle={Ingenieria del Software - Trabajo practico: sistema de software CentralMarket},
			pdfsubject={Trabajo Practico de Modelado de dominio},
			pdfkeywords={Contenidos, proveedor, bajo demanda},
			pdfstartview=FitH,            % Fits the width of the page to the window
			bookmarksnumbered,            % los bookmarks numerados se ven mejor...
			colorlinks,                   % links con bellos colores
			linkcolor=magenta]            % permite cambiar el color de los links
			{hyperref}                    % Permite jugar con algunas cosas que aparecer\'an en el PDF final
\usepackage{hyperref}


%\selectlanguage{spanish}

\linespread{1.3}                    % interlineado equivalente al 1.5 l\'ineas de Word...
\pagestyle{myheadings}              %encabezado personalizable con \markboth{}{}
\markboth{}{Trabajo Modelado de Objetivos. (Abreg\'u, Cammi, De Sousa, M\'endez, Raffo) }
\headsep = 30pt                     % separaci\'on entre encabezado y comienzo del p\'arrafo

%\addtolength{\oddsidemargin}{-2cm}	% configuracion IDEAL!!!
%\addtolength{\textwidth}{4cm}
%\addtolength{\textheight}{2cm}

% macro 'todo' para To-Do's
\def\todo#1{\textcolor{red}{#1}}

% Macro 'borde' para un texto con borde
\newsavebox{\fmbox}
\newenvironment{borde}[1]
{\begin{lrbox}{\fmbox}\begin{minipage}{#1}}
{\end{minipage}\end{lrbox}\fbox{\usebox{\fmbox}}\\[10pt]}

%%%%%%%%%% FIN DEL PREAMBULO %%%%%%%%%%

\begin{document}

\materia{Ingenier\'ia de Software I}
\submateria{Primer Cuatrimestre de 2012}
\titulo{Trabajo pr\'actico 2}
\subtitulo{Modelos de comportamiento del sistema de software para a CentralMarket}
\grupo{Grupo 1}

\integrante{Abreg\'u, Angel}{082/09}{angelj\_a@hotmail.com}
\integrante{Cammi, Mart\'in}{676/02}{martincammi@gmail.com}
\integrante{De Sousa, Mariano}{389/08}{marian\_sabianaa@hotmail.com}
\integrante{M\'endez, Gonz\'alo}{843/04}{gemm83@hotmail.com}
\integrante{Raffo, Diego}{423/08}{enanodr@hotmail.com}


\maketitle

\thispagestyle{empty}

\tableofcontents

\newpage

% Conviene poner las secciones como diferentes archivos,
% sobre todo cuando se trabaja en equipo.
% Es m\'as f\'acil para sincronizar mediante control de versiones.
%\input{Introducci\'on}


% BEGIN Ejemplos de uso

	%\section{Una secci\'on}
	%\label{sec:unaSeccion}
	%Hola! Soy una Secci\'on
	%	\subsection{Una subsecci\'on}
	%		Y yo soy una subsecci\'on!!!
	%		\subsubsection{Una subsubsecci\'on}
	%			Y yo soy una sub-subsecci\'on!!!
	%			\paragraph{Un p\'arrafo\\}
	%				Y yo soy un p\'arrafo, porque no hay mas sub-sub-sub-subsecciones!!!

	%\section{Otra secci\'on}
	%	Como pudimos ver en la secci\'on \ref{sec:unaSeccion}, esto es una demo de una referencia a una secci\'on.
	
	%	Tambi\'en podemos hacer referencia a la p\'agina de la secci\'on:\\[10pt]
	
		% Ejemplo de uso de un borde (falta pulir para que no tire un warning!)
	%	\begin{borde}{0.98\textwidth}
	%		En la p\'agina \pageref{sec:unaSeccion}, hay una secci\'on pilla...
	%	\end{borde}

% END Ejemplos de uso


\section{Propuesta de servicios}
\label{sec:Propuesta de servicios}

\subsection{Introducci\'on}

	Tras haber realizado una serie de iteraciones con los directivos de CentralMarket sobre la última presentación del sistema y en base
a las correciones y ajustes que nos han comentado quieren, hemos armado una nueva serie de documentos para detallar mejor el comportamiento del sistema.
A tal efecto hemos revisado una serie de puntos con los directivos y se han modificado algunos:


\begin{itemize}
	
	\item{ Los agentes \emph{Gerente de proyecto} y \emph{Desarrollador} que figuraban en el diagrama de objetivos de la documentación revisada con el cliente no 			serán tenidos en cuenta en esta etapa ya que forman parte intrínseca de la construcción del mismo y no de su comportamiento.}

	\item{ El agente \emph{Cliente} será modelado en esta etapa a través del usuario quien es el que interactúa directamente con el sistema)}

	\item{ De las diferentes opciones propuestas para el tipo de descarga (no streaming) los directivos han optado por la descarga directa.}
	
	\item{ Del diagrama de objetivos, la rama 3.1 (Soportar TV, PC, tablet y mobile) no será modelada en esta etapa ya que un equipo especial de CentralMarket
se ocupará de definir esas necesidades.}

	\item{ Del mismo modo la Situación 6 mencionada en la documentación anterior sobre la \emph{Actualización de la interfaz de usuario} no será incluida en esta nueva presentación ya que CentralMaket se ocupará también }

	\item{ En el modelado a continuación asumiremos que todos los actores que interactuen con el sistema ya tienen creada una cuenta previa para poder loguearse y realizar sus acciones }

	\item{ Consultamos a la analista de CentralMarket al respecto de los tipos de publicidad y tipos de posicionamiento y nos comentó que dejáramos la definición de estos tipos a ellos con lo cual asumiremos que ya están definidos en el sistema}

	\item{ La analista también hizo incapié en que es importante que el Administrador de contenidos tenga una forma de "poner online" los contenidos que 
ya han sido verificados, es por eso que le hemos otorgado la opción de "Habilitar" los contenidos cuando quiere ponerlos online}

	\item{ Los directivos nos nos mencionaron que quieren poder ver claramente cual es el flujo de validación de los contenidos, para asegurarse de brindar
la mejor calidad aunque para los contenidos en si quieren poder asegurar no llegar a generar inconsistencias en el sistema. Es por eso que decidimos presentarles
todo lo referente a revisión de contenidos en un \emph{Casos de Uso} y un \emph{Diagramas de actividad} y con relación a los contenidos en si agregar también un \emph{Modelo Conceptual}}

	\item{ Al consultar sobre los paquetes los directivos nos comentaron que en una primera instancia no implementarán paquetes, quizás más adelante, así que no quieren demasiada información sobre ellos, decidimos no agregarlos en el \emph{Modelo conceptual} para simplificar la descripción de los contenidos ya que en un 
futuro puede extenderse.}



\end{itemize}

	
\section{Diagramas}
	
	A continuación presentamos una serie de modelos que representan el comportamiento acordado con los directivos de CentralMarket.
Presentaremos las funcionalidades con tres tipos de diagramas: de \emph{Casos de Uso}, de \emph{Actividad} y \emph{Modelo Conceptual}.\\

	Un diagrama de \emph{Casos de Uso} permite identificar claramente la interacción del sistema con diferentes actores. A continuación se muestran todos los actores relevantes al sistema y las acciones que pueden realizar con el sistema.

\newpage

\subsection{Diagrama de Casos De Uso}


	\begin{center}
		\includegraphics[scale=0.37]{Diagramas/01-CasosdeUsoCU.png}
	\end{center}

\newpage

\subsection{Descripción de los casos de uso.}

------ principio template -------\\
\noindent{\textbf{Caso de uso:} Eligiendo contenido.} \\
\textbf{Actores:} Usuario. \\
\textbf{Pre:} El usuario está registrado y autenticado. \\
\textbf{Post:} El usuario eligió un contenido.\\
\noindent{\textbf{\underline{Caso normal}}} 
\begin{enumerate}
	\item a
\end{enumerate}
\textbf{Fin Caso de Uso.}
\noindent{\textbf{\underline{Caso alternativo}}} \\
\begin{center} \line(1,0){450} \end{center}

------ Fin template -------\\
 
\newpage

\begin{center} \line(1,0){450} \end{center}
\noindent{\textbf{Caso de uso: Eligiendo contenido.}} \\
\textbf{Actores:} Usuario. \\
\textbf{Pre:} El usuario está registrado y autenticado. \\
\textbf{Post:} El usuario eligió un contenido.\\

\noindent{\textbf{\underline{Caso normal}}}

\begin{enumerate}
	\item El usuario entra a la búsqueda de contenido en el sistema.
	\item El usuario ingresa un término en la búsqueda de acuerdo al contenido que quiera buscar y/o marca los filtros que necesite.
	\item El sistema ofrece una lista básica de contenidos acorde al usuario y los filtros completados.
	\item El usuario ve que el contenido a buscar forma forma parte de lista seleccionada y accede a al detalle.
	\item El usuario decide si va a consumir el contenido, de ser así, extiende caso de uso "Solicitando contenido"
	\item \textbf{Fin Caso de uso}
\end{enumerate}

\noindent{\textbf{\underline{Caso alternativo}}} \\

4.1 - El usuario no encuentra el contenido que está buscando y decide
hacer una búsqueda diferente, va al paso 2.

\begin{center} \line(1,0){450} \end{center}

\newpage

\begin{center} \line(1,0){450} \end{center}

\noindent{\textbf{Caso de uso: Solicitando contenido. }} \\
\textbf{Actores:} Usuario. \\
\textbf{Pre:} El usuario está autenticado y ha elegido un contenido. \\
\textbf{Post:} El usuario solicitó un contenido.\\

\noindent{\textbf{\underline{Caso normal}}} 

\begin{enumerate}
	\item El sistema muestra al usuario, dado el tipo de contenido, cuáles son las modalidades para consumirlo (descarga y/o streaming)
	\item El usuario selecciona la modalidad que va utilizar.
	\item El sistema valida que el dispositivo esté soportado para iniciar el proceso de descarga o streaming.
	\item Si la cuenta no tiene asociada una tarjeta, el sistema pide una, el usuario ingresa los datos.
	\item Extiende Caso de Uso "Cobrando venta"
	\item Si es descarga, extiende Caso de Uso "Descargando contenido"; si el contenido es soportado y es streaming extiende Caso de Uso "Reproduciendo contenido online"
	\item \textbf{Fin Caso de uso}
\end{enumerate}

\noindent{\textbf{\underline{Caso alternativo}}} \\

\noindent{3.1 - El sistema muestra mensaje de error indicando que el dispositivo no está soportado. Ir a 7.}\\
4.1 - Si el contenido es gratuito, ir a 6.\\
6.1 - De no ser válida la tarjeta, el sistema muestra mensaje de error y vuelve a 4.\\
6.2 - De no ser exitoso el cobro, el sistema muestra mensaje de error.\\

\begin{center} \line(1,0){450} \end{center}

\newpage 

\begin{center} \line(1,0){450} \end{center}

\noindent{\textbf{Caso de uso: Descargando contenido}} \\
\textbf{Actores:} Usuario. \\
\textbf{Pre:} dispositivo soportado, usuario autenticado, usuario eligi\'o modalidad de descarga. \\
\textbf{Post:} El contenido fue descargado.\\
\noindent{\textbf{\underline{Caso normal}}} 

\begin{enumerate}
	\item El sistema actualiza el estado de la cuenta, marca a la cuenta como descargando el contenido
\item El sistema env\'ia un paquete de datos (del archivo) al usuario, por el canal de comunicaci\'on. 3 - Contin\'ua con el siguiente paquete cuando este se envi\'o exitosamente. Repite el paso 2, hasta enviar todos los paquetes.
	\item El sistema avisa al usuario que el contenido se descarg\'o exitosamente.
	\item El sistema actualiza en la cuenta que se descarg\'o el contenido (ya no est\'a marcada como \emph{descargando el contenido})
	\item \textbf{Fin Caso de Uso.}

\end{enumerate}

\noindent{\textbf{\underline{Caso alternativo}}} \\

\noindent{1.1 En caso de que en el estado de la cuenta haya alg\'un contenido descarg\'andose \'o un contenido distinto en reproducci\'on \'o pausado, el sistema muestra un mensaje de error, y vuelve a la pantalla de selecci\'on de contenido.}\\

\noindent{3.1 En caso de que un paquete no se haya logrado enviar por alg\'un error, el sistema reintenta el env\'io del mismo paquete antes de continuar con el siguiente (i.e. vuelve al paso 2)}\\
\begin{center} \line(1,0){450} \end{center}

\newpage

\begin{center} \line(1,0){450} \end{center}

\noindent{\textbf{Caso de uso: Reproduciendo contenido online }} \\
\textbf{Actores:} Usuario.  \\
\textbf{Pre:} Dispositivo soportado, usuario autenticado, usuario eligió modalidad streaming . \\
\textbf{Post:} Se reprodujo el contenido online (finalizó con un stop) .\\
\noindent{\textbf{\underline{Caso normal}}} 
\begin{enumerate}
	\item El sistema carga el estado de la cuenta
	\item Si no había contenido en reproducción, dejá asentado en el estado de la cuenta que el último estado es el inicio, y continúa con el paso 4. Si el contenido estaba pausado, el sistema muestra un mensaje al usuario, preguntando si desea continuar la reproducción desde donde se lo dejó o no.
	\item El usuario acepta reproducir desde el estado en que se dejó.
	\item El sistema marca el estado de la cuenta como \emph{reproduciendo contenido} y empieza a reproducir desde el último estado.
	\item El usuario termina de ver el contenido (o detiene la reproducción)
	\item El sistema marca en el estado de la cuenta \emph{no hay contenido reproduciéndose/descargándose}
	\item En caso de que el usuario decida calificar el contenido, extiende Caso de Uso \emph{Calificando contenido}
	\item \textbf{Fin Caso de Uso.}
\end{enumerate}
\noindent{\textbf{\underline{Caso alternativo}}} \\

\noindent{2.1 En caso de que en el estado de la cuenta haya algún contenido descargándose ó un contenido distinto en reproducción o pausado, el sistema muestra un mensaje de error, y vuelve a la pantalla de selección de contenido}
3.1 El usuario cancela, y vuelve a la pantalla de selección de contenido
6.1 El usuario pausa la reproducción del contenido y el sistema marca en el estado de la cuenta como \emph{contenido en pausa}, y sigue en paso 8.

\begin{center} \line(1,0){450} \end{center}

\newpage

\begin{center} \line(1,0){450} \end{center}

\noindent{\textbf{Caso de uso: Calificando contenido}} \\
\textbf{Actores:} Usuario. \\
\textbf{Pre:} Usuario autenticado, usuario reprodujo el contenido, usuario no calificó el contenido anteriormente. \\
\textbf{Post: El contenido recibió calificación del usuario} .\\
\noindent{\textbf{\underline{Caso normal}}} 
\begin{enumerate}

	\item El usuario entra al sistema de calificación
	\item El sistema muestra el detalle del contenido anteriormente reproducido y permite que el usuario ingrese un valor del 1 al 10 (10 equivale a excelente, 1 a pésimo)
	\item El usuario ingresa la calificación y acepta.
	\item El sistema guarda la calificación dada para el contenido.
	\item El sistema actualiza la lista de recomendados acorde al nuevo registro de calificaciones (Explicado en el diagrama de Clases Conceptuales)

	\item \textbf{Fin Caso de Uso.}
\end{enumerate}
\begin{center} \line(1,0){450} \end{center}
\newpage
\begin{center} \line(1,0){450} \end{center}


\noindent{\textbf{Caso de uso: Conociendo historial de compras}} \\
\textbf{Actores:} Usuario. \\
\textbf{Pre:} Usuario autenticado. \\
\textbf{Post:} Usuario conoce el historial de compras realizadas.\\
\noindent{\textbf{\underline{Caso normal}}} 
\begin{enumerate}
	\item El usuario entra al historial de compras
	\item El sistema muestra el detalle del historial de compras y una solapa con contenido recomendado
	\item El usuario navega por el historial, pudiendo ver el detalle de cada una de ellas. En cualquier momento puede decidir ver el contenido recomendado 	cliqueando en la solapa (extiende caso de uso \emph{Conociendo contenido recomendado}
	\item El usuario cierra el historial
	\item El sistema cierra la pantalla del historial
	\item \textbf{Fin Caso de Uso.}
\end{enumerate}
\begin{center} \line(1,0){450} \end{center}


\noindent{\textbf{Caso de uso: Conociendo contenido recomendado}} \\
\textbf{Actores:} Usuario . \\
\textbf{Pre:} usuario autenticado. \\
\textbf{Post:} usuario conoce el contenido recomendado por el sistema.\\
\noindent{\textbf{\underline{Caso normal}}} \\
	Trivial\\
\begin{center} \line(1,0){450} \end{center}
\newpage
\begin{center} \line(1,0){450} \end{center}

\noindent{\textbf{Caso de uso: Registrando Usuario }} \\
\textbf{Actores:} Usuario no registrado. \\
\textbf{Pre:} - \\
\textbf{Post:} El Usuario se registra.\\
\noindent{\textbf{\underline{Caso normal}}} 
\begin{enumerate}
	\item El sistema pide datos para la registración de la cuenta (email y contraseña, información de personal (opcional), datos de tarjeta de crédito (opcional)
	\item El usuario ingresa los datos pedidos
	\item El sistema valida si el email ya existe
	\item El sistema verifica que el email no existe, se graba el email y la contraseña
	\item Si el usuario puso datos de la tarjeta de crédito, extiende CU Validando datos de tarjeta de crédito
	\item Se crea una cuenta a nombre del nuevo usuario con sus datos.
	\item \textbf{Fin Caso de Uso.}
\end{enumerate}
\noindent{\textbf{\underline{Caso alternativo}}} \\
\noindent{3.1 - El sistema verifica que el email ya existe, vuelve al punto 1}
6.1 - El sistema no puede validar la tarjeta de crédito, vuelve al punto 1

\begin{center} \line(1,0){450} \end{center}

--trabajando fin--



\newpage

\subsection{Diagrama de Actividad}

	Un diagrama de actividad permite modelar una secuencia de acciones entre los componentes e un sistema. En nuestro caso lo hemos utilizado para 
describir los flujos principales del sistema y la interacción a través del mismo de los diferentes agentes que intervienen.\\

	Los diagramas a continuación guardan una relación siendo que los diagramas principales utilizan diagramas secundarios para describir el comportamiento. Así, en si un diagrama un estado (que representa una acción) se encuentra recuadrado con una línea más gruesa y precedido por las siglas DA (Diagrama de Actividad) indica que ese estado o acción se describe con mayor detalle en otro Diagrama de Actividad.\\

	El siguiente diagrama muestra la relación que existe entre los \emph{Diagramas de actividad} para mayor legibilidad de los mismos. Si un \emph{Diagrama de actividad} $A$ tiene una flecha con otro \emph{Diagrama de actividad} $B$ ejemplo: ($A \rightarrow B$) significa que diagrama A aparece mencionado en el diagrama B.
De esta forma un arbol de la forma en que se utilizan los diagramas es el siguiente:\\


	\begin{center}
		\includegraphics[scale=0.37]{Diagramas/00-DiagramaDeDiagramas.png}
	\end{center}

\subsubsection{Tratamiento general de un contenido}

	\begin{center}
		\includegraphics[scale=0.37]{Diagramas/02-TratamientoGeneralDeUnContenidoDA.png}
	\end{center}

\newpage

\subsubsection{Carga y habilitación de contenido}

	\begin{center}
		\includegraphics[scale=0.37]{Diagramas/03-CargaYHabilitacionDeContenidoDA.png}
	\end{center}
\newpage

\subsubsection{Cargar el contenido de reproducción y solicitar revisión}

	\begin{center}
		\includegraphics[scale=0.37]{Diagramas/04-CargarElContenidoDeReproduccionYSolicitarRevisionDA.png}
	\end{center}

\newpage

\subsubsection{Cargar el contenido de ejecución y solicitar revisión}

	\begin{center}
		\includegraphics[scale=0.37]{Diagramas/05-CargarElContenidoDeEjecucionYSolicitarRevisionDA.png}
	\end{center}

\newpage

\subsubsection{Obtener contenido}

	\begin{center}
		\includegraphics[scale=0.37]{Diagramas/06-ObtenerContenidoDA.png}
	\end{center}

\newpage

\subsubsection{Validar si puede enviarse contenido}

	\begin{center}
		\includegraphics[scale=0.37]{Diagramas/07-ValidarSiPuedeEnviarseContenidoDA.png}
	\end{center}

\newpage

\subsubsection{Realizar operación económica}

	\begin{center}
		\includegraphics[scale=0.37]{Diagramas/08-RealizarOperacionEconomicaDA.png}
	\end{center}

\newpage

\subsection{Modelo Conceptual}

	\begin{center}
		\includegraphics[scale=0.37]{Diagramas/09-ModeloConceptualMC.png}
	\end{center}

\subsubsection{Object Contraint Language (OCL)}
	Para complementar el \emph{Modelo Conceptual} agregaremos una serie de limitaciones que nos permiten modelar reglas para el sistema.
Este lenguaje nos permite especificar formalmente restricciones a las clases definidas.

\newpage

\subsection{Diagrama de Máquina de Estados Finitos (FSM)}
	
\newpage

\section{Trazabilidad}

	Trazabilidad de los Objetivos del Tp1 con los diagramas antes mencionados

\newpage

\end{document}
